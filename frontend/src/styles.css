/* Orchestration Engine - Styles */

:root {
  --bg: #0f1117;
  --surface: #1a1d27;
  --border: #2a2d3a;
  --text: #e1e4ed;
  --text-dim: #8b8fa3;
  --accent: #6c8cff;
  --accent-dim: #4a5a8a;
  --success: #4caf50;
  --warning: #ff9800;
  --error: #f44336;
  --radius: 8px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Inter', -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.5;
}

a { color: var(--accent); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Layout */
.layout { display: flex; min-height: 100vh; }
.sidebar {
  width: 220px; background: var(--surface); border-right: 1px solid var(--border);
  padding: 1rem; display: flex; flex-direction: column; gap: 0.5rem;
}
.sidebar h1 { font-size: 1rem; margin-bottom: 1rem; color: var(--accent); }
.sidebar a {
  display: block; padding: 0.5rem 0.75rem; border-radius: var(--radius);
  color: var(--text-dim); font-size: 0.875rem;
}
.sidebar a:hover, .sidebar a.active { background: var(--border); color: var(--text); text-decoration: none; }
.main { flex: 1; padding: 1.5rem; overflow-y: auto; }

/* Cards */
.card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1rem; margin-bottom: 1rem;
}
.card h2 { font-size: 1rem; margin-bottom: 0.75rem; }
.card h3 { font-size: 0.875rem; color: var(--text-dim); margin-bottom: 0.5rem; }

/* Status badges */
.badge {
  display: inline-block; padding: 0.15rem 0.5rem; border-radius: 12px;
  font-size: 0.75rem; font-weight: 600; text-transform: uppercase;
}
.badge.online, .badge.completed { background: #1b3a1b; color: var(--success); }
.badge.offline, .badge.failed { background: #3a1b1b; color: var(--error); }
.badge.running, .badge.executing { background: #1b2a3a; color: var(--accent); }
.badge.pending, .badge.draft, .badge.ready { background: #2a2a1b; color: var(--warning); }
.badge.blocked, .badge.paused { background: #2a2a2a; color: var(--text-dim); }
.badge.cancelled { background: #2a2020; color: #999; }
.badge.queued { background: #1b2a2a; color: #80cbc4; }
.badge.needs_review { background: #3a2a1b; color: #ffa726; }
.badge.passed { background: #1b3a1b; color: var(--success); }
.badge.gaps_found { background: #3a2a1b; color: var(--warning); }
.badge.human_needed { background: #3a1b1b; color: var(--error); }
.badge.skipped { background: #2a2a2a; color: var(--text-dim); }
.badge.admin { background: #3a2a1b; color: #ffa726; }
.badge.user { background: #1b2a3a; color: var(--accent); }
.badge.ollama { background: #1b3a2a; color: #66bb6a; }
.badge.haiku { background: #2a1b3a; color: #ab47bc; }
.badge.sonnet { background: #1b2a3a; color: var(--accent); }
.badge.opus { background: #3a2a1b; color: #ffa726; }

/* Buttons */
.btn {
  padding: 0.5rem 1rem; border: none; border-radius: var(--radius);
  cursor: pointer; font-size: 0.875rem; font-weight: 500;
}
.btn-primary { background: var(--accent); color: #fff; }
.btn-primary:hover { background: #5a7aee; }
.btn-primary:disabled { background: var(--accent-dim); cursor: not-allowed; }
.btn-danger { background: var(--error); color: #fff; }
.btn-secondary { background: var(--border); color: var(--text); }
.btn-sm { padding: 0.25rem 0.5rem; font-size: 0.75rem; }

/* Forms */
input, textarea, select {
  background: var(--bg); border: 1px solid var(--border); color: var(--text);
  border-radius: var(--radius); padding: 0.5rem; width: 100%; font-size: 0.875rem;
}
textarea { min-height: 100px; resize: vertical; font-family: inherit; }
label { display: block; font-size: 0.875rem; color: var(--text-dim); margin-bottom: 0.25rem; }
.form-group { margin-bottom: 1rem; }

/* Grid */
.grid { display: grid; gap: 1rem; }
.grid-2 { grid-template-columns: 1fr 1fr; }
.grid-3 { grid-template-columns: 1fr 1fr 1fr; }
.grid-4 { grid-template-columns: 1fr 1fr 1fr 1fr; }

/* Table */
table { width: 100%; border-collapse: collapse; font-size: 0.875rem; }
th { text-align: left; color: var(--text-dim); padding: 0.5rem; border-bottom: 1px solid var(--border); }
td { padding: 0.5rem; border-bottom: 1px solid var(--border); }
tr:hover { background: rgba(255,255,255,0.02); }

/* Progress bar */
.progress-bar { background: var(--border); border-radius: 4px; height: 8px; overflow: hidden; }
.progress-fill { height: 100%; border-radius: 4px; transition: width 0.3s; }
.progress-fill.ok { background: var(--accent); }
.progress-fill.warn { background: var(--warning); }
.progress-fill.danger { background: var(--error); }

/* Utility */
.flex { display: flex; }
.flex-between { display: flex; justify-content: space-between; align-items: center; }
.gap-1 { gap: 0.5rem; }
.gap-2 { gap: 1rem; }
.mb-1 { margin-bottom: 0.5rem; }
.mb-2 { margin-bottom: 1rem; }
.text-dim { color: var(--text-dim); }
.text-sm { font-size: 0.75rem; }
.text-mono { font-family: 'JetBrains Mono', monospace; }
.cost { color: var(--warning); font-weight: 600; }
pre { background: var(--bg); padding: 0.75rem; border-radius: var(--radius); overflow-x: auto; font-size: 0.8rem; }

/* Wave headers */
.wave-group { margin-bottom: 1rem; }
.wave-header {
  display: flex; justify-content: space-between; align-items: center;
  padding: 0.5rem 0; border-bottom: 1px solid var(--border); margin-bottom: 0.5rem;
  cursor: pointer; user-select: none;
}
.wave-header h4 { font-size: 0.875rem; color: var(--text-dim); margin: 0; }
.wave-header .wave-summary { font-size: 0.75rem; color: var(--text-dim); }
.wave-header:hover h4 { color: var(--text); }

/* Verification card */
.verification-card {
  border-left: 3px solid var(--border); padding: 0.75rem 1rem;
  margin-bottom: 1rem; border-radius: 0 var(--radius) var(--radius) 0;
  background: var(--surface);
}
.verification-card.passed { border-left-color: var(--success); }
.verification-card.gaps_found { border-left-color: var(--warning); }
.verification-card.human_needed { border-left-color: var(--error); }

/* Events log */
.event-log { max-height: 300px; overflow-y: auto; font-size: 0.8rem; }
.event-item { padding: 0.25rem 0; border-bottom: 1px solid var(--border); }
.event-type { font-weight: 600; color: var(--accent); margin-right: 0.5rem; }

/* Auth pages */
.auth-page {
  display: flex; align-items: center; justify-content: center;
  min-height: 100vh; padding: 2rem;
}
.auth-card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 2rem; width: 100%; max-width: 400px;
}
.auth-card h1 { font-size: 1.25rem; color: var(--accent); margin-bottom: 0.25rem; }
.auth-card h2 { font-size: 1rem; color: var(--text-dim); margin-bottom: 1.5rem; }
.auth-card form { display: flex; flex-direction: column; gap: 1rem; }
.auth-card label { display: flex; flex-direction: column; gap: 0.25rem; }
.auth-card button {
  padding: 0.625rem; background: var(--accent); color: #fff; border: none;
  border-radius: var(--radius); cursor: pointer; font-size: 0.875rem; font-weight: 500;
}
.auth-card button:hover { background: #5a7aee; }
.auth-card button:disabled { background: var(--accent-dim); cursor: not-allowed; }
.auth-error {
  background: #3a1b1b; color: var(--error); padding: 0.5rem; border-radius: var(--radius);
  font-size: 0.875rem; margin-bottom: 1rem;
}
.auth-link { text-align: center; margin-top: 1rem; font-size: 0.875rem; color: var(--text-dim); }
.auth-loading { display: flex; align-items: center; justify-content: center; min-height: 100vh; color: var(--text-dim); }
.auth-divider {
  text-align: center; margin: 1.25rem 0; position: relative;
  color: var(--text-dim); font-size: 0.8rem;
}
.auth-divider::before {
  content: ''; position: absolute; left: 0; top: 50%;
  width: 100%; height: 1px; background: var(--border);
}
.auth-divider span {
  background: var(--surface); padding: 0 0.75rem; position: relative;
}
.oauth-buttons { display: flex; flex-direction: column; gap: 0.5rem; }
.oauth-btn {
  padding: 0.625rem; border: 1px solid var(--border); border-radius: var(--radius);
  background: var(--surface); color: var(--text); cursor: pointer;
  font-size: 0.875rem; transition: background 0.15s;
}
.oauth-btn:hover { background: var(--hover); }
.oauth-btn:disabled { opacity: 0.5; cursor: not-allowed; }

/* Sidebar user section */
.sidebar-user {
  margin-top: auto; padding-top: 1rem; border-top: 1px solid var(--border);
  display: flex; flex-direction: column; gap: 0.5rem;
}
.user-name { font-size: 0.8rem; color: var(--text-dim); }
.logout-btn {
  background: transparent; border: 1px solid var(--border); color: var(--text-dim);
  padding: 0.375rem 0.5rem; border-radius: var(--radius); cursor: pointer; font-size: 0.75rem;
}
.logout-btn:hover { background: var(--border); color: var(--text); }

/* Copy button */
.copy-btn { transition: background 0.2s; min-width: 5rem; }

/* Modal */
.modal-overlay {
  position: fixed; inset: 0; background: rgba(0, 0, 0, 0.6);
  display: flex; align-items: center; justify-content: center;
  z-index: 1000;
}
.modal-content {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: var(--radius); padding: 1.5rem; width: 90%; max-width: 600px;
  max-height: 80vh; overflow-y: auto;
}

/* Light theme */
[data-theme="light"] {
  --bg: #f5f6fa;
  --surface: #ffffff;
  --border: #dde0e8;
  --text: #1a1d27;
  --text-dim: #666b80;
  --accent: #4a6cf7;
  --accent-dim: #a0b0e0;
  --success: #2e7d32;
  --warning: #e65100;
  --error: #c62828;
}
[data-theme="light"] .badge.online,
[data-theme="light"] .badge.completed { background: #e8f5e9; color: #2e7d32; }
[data-theme="light"] .badge.offline,
[data-theme="light"] .badge.failed { background: #ffebee; color: #c62828; }
[data-theme="light"] .badge.running,
[data-theme="light"] .badge.executing { background: #e3f2fd; color: #1565c0; }
[data-theme="light"] .badge.pending,
[data-theme="light"] .badge.draft,
[data-theme="light"] .badge.ready { background: #fff3e0; color: #e65100; }
[data-theme="light"] .badge.blocked,
[data-theme="light"] .badge.paused { background: #f5f5f5; color: #666; }
[data-theme="light"] .badge.cancelled { background: #fafafa; color: #999; }
[data-theme="light"] .badge.queued { background: #e0f2f1; color: #00695c; }
[data-theme="light"] .badge.needs_review { background: #fff3e0; color: #e65100; }
[data-theme="light"] .badge.passed { background: #e8f5e9; color: #2e7d32; }
[data-theme="light"] .badge.gaps_found { background: #fff3e0; color: #e65100; }
[data-theme="light"] .badge.human_needed { background: #ffebee; color: #c62828; }
[data-theme="light"] .badge.skipped { background: #f5f5f5; color: #666; }
[data-theme="light"] .badge.admin { background: #fff3e0; color: #e65100; }
[data-theme="light"] .badge.user { background: #e3f2fd; color: #1565c0; }
[data-theme="light"] .badge.ollama { background: #e8f5e9; color: #2e7d32; }
[data-theme="light"] .badge.haiku { background: #f3e5f5; color: #7b1fa2; }
[data-theme="light"] .badge.sonnet { background: #e3f2fd; color: #1565c0; }
[data-theme="light"] .badge.opus { background: #fff3e0; color: #e65100; }
[data-theme="light"] .auth-error { background: #ffebee; }
[data-theme="light"] .auth-divider span { background: #fff; }
[data-theme="light"] pre { background: #f0f1f5; }
[data-theme="light"] .verification-card { background: #fafafa; }
[data-theme="light"] tr:hover { background: rgba(0,0,0,0.02); }
